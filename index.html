<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video User Study</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 90%;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .video-container {
            background-color: white;
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .video-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }
        
        video {
            width: 100%;
            /* max-width: 600px; */
            height: auto;
            display: block;
            margin: 0 auto 20px auto;
        }
        
        .options {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .option {
            margin: 0 15px;
            font-size: 16px;
        }
        
        input[type="radio"] {
            margin-right: 8px;
            transform: scale(1.2);
        }
        
        .results-container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-top: 30px;
        }
        
        .results-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        #results {
            width: 100%;
            height: 150px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            background-color: #f9f9f9;
            resize: vertical;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center; margin-bottom: 30px;">Video User Study</h1>
    
    <div id="video-containers"></div>
    
	The leftmost input is the input video, and the next two are outputs of different algorithms.
	Please select the one where the dots on the input video best correspond to the outputs.

    <div class="results-container">
        <div class="results-title">Results (JSON Format):</div>
        <textarea id="results" readonly placeholder="Results will appear here as you make selections..."></textarea>
    </div>

    <script>
        const videos = [
            'video_pairs/ATI_0000--[Seed 8464] Blacks Freeze Camera_15fps.mp4',
            'video_pairs/ATI_0004--[Seed 6227] Boat_ Move Test_15fps.mp4',
            'video_pairs/ATI_0018--[Seed 2] Kittycat Fish_copy_15fps.mp4',
            'video_pairs/ATI_0019--[Seed 5819] Cheerleader_15fps.mp4',
            'video_pairs/ATI_0030--[Seed 8184] Judge_ Walk Out_15fps.mp4',
            'video_pairs/ATI_0038--[Seed 1515] Blacks Freeze Camera_copy_15fps.mp4'
        ];
        
        let results = {};
        
        function updateResults() {
            const resultsTextarea = document.getElementById('results');
            resultsTextarea.value = JSON.stringify(results, null, 2);
        }
        
        function createVideoContainer(videoPath, index) {
            const container = document.createElement('div');
            container.className = 'video-container';
            
            const title = document.createElement('div');
            title.className = 'video-title';
            title.textContent = `Video ${index}`;
            
            const video = document.createElement('video');
            video.src = videoPath;
            video.controls = true;
            video.autoplay = true;
            video.muted = true; // Required for autoplay in most browsers
            video.loop = true;
            
            const options = document.createElement('div');
            options.className = 'options';
            
            const optionA = document.createElement('label');
            optionA.className = 'option';
            const radioA = document.createElement('input');
            radioA.type = 'radio';
            radioA.name = `video_${index}`;
            radioA.value = 'A';
            radioA.addEventListener('change', () => {
                if (radioA.checked) {
                    results[index] = 'A';
                    updateResults();
                }
            });
            optionA.appendChild(radioA);
            optionA.appendChild(document.createTextNode('Output A'));
            
            const optionB = document.createElement('label');
            optionB.className = 'option';
            const radioB = document.createElement('input');
            radioB.type = 'radio';
            radioB.name = `video_${index}`;
            radioB.value = 'B';
            radioB.addEventListener('change', () => {
                if (radioB.checked) {
                    results[index] = 'B';
                    updateResults();
                }
            });
            optionB.appendChild(radioB);
            optionB.appendChild(document.createTextNode('Output B'));
            
            options.appendChild(optionA);
            options.appendChild(optionB);
            
            container.appendChild(title);
            container.appendChild(video);
            container.appendChild(options);
            
            return container;
        }
        
        function initializeStudy() {
            const videoContainers = document.getElementById('video-containers');
            
            videos.forEach((videoPath, index) => {
                const container = createVideoContainer(videoPath, index);
                videoContainers.appendChild(container);
            });
            
            updateResults();
        }
        
        // Initialize the study when the page loads
        document.addEventListener('DOMContentLoaded', initializeStudy);
    </script>
</body>
</html>
